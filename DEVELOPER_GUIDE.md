
# ๐๏ธ ุฏููู ุงููุทูุฑูู (Developer Guide) - ูุธุงู ุฅุฏุงุฑุฉ ููุงุชุจ ุงููุญุงูุงุฉ

## 1. ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน

ูุฐุง ุงููุณุชูุฏ ูู ุงูุฏููู ุงูููู ููุทูุฑู ุงููุงุฌูุฉ ุงูุฎูููุฉ (Backend) ุงูุฐูู ูุนูููู ุนูู ุตูุงูุฉ ูุชุทููุฑ ูุธุงู ุฅุฏุงุฑุฉ ููุงุชุจ ุงููุญุงูุงุฉ. ุงููุดุฑูุน ูุจูู ุจุงุณุชุฎุฏุงู **Node.js** ู **Express.js** ูุน **TypeScript**ุ ููุชุจุน ุจููุฉ ูููุฉ ููุงุจูุฉ ููุชุทููุฑ.

**ุงูููููุงุช ุงูุฑุฆูุณูุฉ ููุจููุฉ ุงูุชุญุชูุฉ:**
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ:** MongoDB
- **ุงูุชุฎุฒูู ุงููุคูุช (Caching):** Redis
- **ุจูุฆุฉ ุงูุชุดุบูู:** Docker

---

## 2. ููู ุชุจุฏุฃุ

ูุฏูู ุทุฑููุชุงู ูุชุดุบูู ุงููุดุฑูุน: ุจุงุณุชุฎุฏุงู Docker (ููุตู ุจู) ุฃู ุงูุชุดุบูู ุงููุญูู.

### ุงูุทุฑููุฉ ุงูููุตู ุจูุง: ุจุงุณุชุฎุฏุงู Docker

ูุฐู ุงูุทุฑููุฉ ุชุถูู ุชุดุบูู ุจูุฆุฉ ูุชูุงููุฉ ููุชุทุงุจูุฉ ุจูุฃูุฑ ูุงุญุฏ.

**ุงููุชุทูุจุงุช:**
- Docker
- Docker Compose

**ุงูุฎุทูุงุช:**
1.  ุงูุณุฎ ููู `.env.example` ุฅูู `.env`:
    ```bash
    cp .env.example .env
    ```
2.  ุงููุฃ ุงููุชุบูุฑุงุช ุงููุงุฑุบุฉ ูู ููู `.env` (ุฎุงุตุฉ `GOOGLE_CLIENT_ID` ู `GOOGLE_CLIENT_SECRET`).
3.  ุดุบูู ูู ุดูุก ุจุงุณุชุฎุฏุงู `docker-compose`:
    ```bash
    docker-compose up --build
    ```
    ุณูููู ูุฐุง ุงูุฃูุฑ ุจุจูุงุก ุงูุตูุฑ ูุชุดุบูู ุญุงููุงุช ุงูุชุทุจููุ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ู Redis.

### ุงูุทุฑููุฉ ุงููุญููุฉ (ุจุฏูู Docker)

**ุงููุชุทูุจุงุช:**
- Node.js (v18+)
- MongoDB (ููุฏ ุงูุชุดุบูู ูุญูููุง)
- Redis (ููุฏ ุงูุชุดุบูู ูุญูููุง)

**ุงูุฎุทูุงุช:**
1.  ุซุจูุช ุงูุงุนุชูุงุฏูุงุช:
    ```bash
    npm install
    ```
2.  ุงูุณุฎ ููู `.env.example` ุฅูู `.env` ูุงููุฃ ุงููุชุบูุฑุงุช.
    **ููู:** ุชุฃูุฏ ูู ุชุนุฏูู `MONGO_HOST` ุฅูู `localhost` ู `REDIS_HOST` ุฅูู `localhost`.
3.  ุดุบูู ุฎุงุฏู ุงูุชุทููุฑ:
    ```bash
    npm run dev
    ```

---

## 3. ุจููุฉ ุงููุดุฑูุน

ูุชุจุน ุงููุดุฑูุน ุจููุฉ ูุงุถุญุฉ ููุตู ุงูุงูุชูุงูุงุช (Separation of Concerns):

-   `src/`
    -   `config/`: ูููุงุช ุงูุฅุนุฏุงุฏุงุช ููุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุชุ Redisุ Passportุ ุฅูุฎ.
    -   `controllers/`: ุงููุชุญููุงุช ุงูุชู ุชุณุชูุจู ุทูุจุงุช ุงูู HTTP ูุชุณุชุฏุนู ุงูุฎุฏูุงุช ุงูููุงุณุจุฉ.
    -   `services/`: ุทุจูุฉ ููุทู ุงูุนูู (Business Logic). ููุง ุชุชู ูู ุงูุนูููุงุช ุงููุนูุฏุฉ ูุงูุชูุงุนู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช.
    -   `models/`: ุชุนุฑูู ูุฎุทุทุงุช Mongoose ููุงุนุฏุฉ ุงูุจูุงูุงุช.
    -   `routes/`: ุชุนุฑูู ุฌููุน ูุณุงุฑุงุช ุงูู API ูุชุทุจูู ุงูู Middlewares ุนูููุง.
    -   `middlewares/`: ุจุฑูุฌูุงุช ูุณูุทุฉ ูุซู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุกุ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช (authorize)ุ ูุชุญุฏูุฏ ูุนุฏู ุงูุทูุจุงุช (rateLimiter).
    -   `validations/`: ูุฎุทุทุงุช ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช ุจุงุณุชุฎุฏุงู Zod.
    -   `jobs/`: ุงูููุงู ุงููุฌุฏููุฉ ุงูุชู ุชุนูู ูู ุงูุฎูููุฉ (ูุซู ูุฑุงูุจ ุงูููุงุนูุฏ ุงูููุงุฆูุฉ).
    -   `server.ts`: ููุทุฉ ุงูุทูุงู ุงูุฎุงุฏู.
    -   `app.ts`: ููู ุฅุนุฏุงุฏุงุช Express ุงูุฑุฆูุณู.

---

## 4. ููุงููู ุฃุณุงุณูุฉ ูู ุงููุดุฑูุน

-   **ูุธุงู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช (RBAC):** ูุชู ุงูุชุญูู ูู ุงููุตูู ุนุจุฑ middleware `authorize.ts` ุงูุฐู ูุชุญูู ูู ุงูุตูุงุญูุงุช (Permissions) ุงููุฑุชุจุทุฉ ุจุฏูุฑ (Role) ุงููุณุชุฎุฏู.
-   **ุงูุชุฎุฒูู ุงููุคูุช (Caching):** ูุชู ุงุณุชุฎุฏุงู Redis ูุชุฎุฒูู ุงูุจูุงูุงุช ุงููุชูุฑุฑุฉ. ุงูููุท ุงููุชุจุน ูู **Cache-Aside**ุ ุญูุซ ูุชู ุงูุจุญุซ ูู Redis ุฃููุงูุ ููู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุงูุจูุงูุงุชุ ูุชู ุฌูุจูุง ูู MongoDB ุซู ุชุฎุฒูููุง ูู Redis ูููุฑุฉ ุงููุงุฏูุฉ.
-   **ุณุฌู ุงูุชุฏููู (Audit Log):** ูุชู ุชุณุฌูู ุงูุฅุฌุฑุงุกุงุช ุงููุงูุฉ (ุฅูุดุงุกุ ุชุนุฏููุ ุญุฐู) ุชููุงุฆููุง ุนุจุฑ `audit.service.ts` ุงูุฐู ูุชู ุงุณุชุฏุนุงุคู ูู ุงููุชุญููุงุช.
-   **ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก:** ูุชู ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุจุดูู ูุฑูุฒู ุนุจุฑ `errorHandler.ts`.
